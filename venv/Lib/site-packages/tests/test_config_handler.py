from unittest import TestCase
from unittest.mock import patch

from phonepe.sdk.pg.common.configs.config_handler import get_pg_url, get_event_ingestion_url
from phonepe.sdk.pg.env import Env


class TestConfigHandler(TestCase):

    @patch("phonepe.sdk.pg.common.configs.config_handler.PROD_PG_BASE_URL", "hermes_prod_url")
    def test_get_phonepe_url_prod_host(self):
        url = get_pg_url(Env.PROD)
        assert url == "hermes_prod_url"

    @patch("phonepe.sdk.pg.common.configs.config_handler.UAT_PG_BASE_URL", "hermes_uat_url")
    def test_get_phonepe_url_uat_host(self):
        url = get_pg_url(Env.UAT)
        assert url == "hermes_uat_url"

    @patch("phonepe.sdk.pg.common.configs.config_handler.PROD_EVENT_INGESTION_BASE_URL", "event_prod_url")
    def test_get_events_url_uat_host(self):
        url = get_event_ingestion_url(Env.PROD)
        assert url == "event_prod_url"
